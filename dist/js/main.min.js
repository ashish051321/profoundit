document.addEventListener("DOMContentLoaded",function(){const e=document.documentElement;if(e.classList.remove("no-js"),e.classList.add("js"),document.body.classList.contains("has-animations")){(window.sr=ScrollReveal()).reveal(".feature, .pricing-table-inner",{duration:600,distance:"20px",easing:"cubic-bezier(0.5, -0.01, 0, 1.005)",origin:"bottom",interval:100}),e.classList.add("anime-ready"),anime.timeline({targets:".hero-figure-box-05"}).add({duration:400,easing:"easeInOutExpo",scaleX:[.05,.05],scaleY:[0,1],perspective:"500px",delay:anime.random(0,400)}).add({duration:400,easing:"easeInOutExpo",scaleX:1}).add({duration:800,rotateY:"-15deg",rotateX:"8deg",rotateZ:"-1deg"}),anime.timeline({targets:".hero-figure-box-06, .hero-figure-box-07"}).add({duration:400,easing:"easeInOutExpo",scaleX:[.05,.05],scaleY:[0,1],perspective:"500px",delay:anime.random(0,400)}).add({duration:400,easing:"easeInOutExpo",scaleX:1}).add({duration:800,rotateZ:"20deg"}),anime({targets:".hero-figure-box-01, .hero-figure-box-02, .hero-figure-box-03, .hero-figure-box-04, .hero-figure-box-08, .hero-figure-box-09, .hero-figure-box-10",duration:anime.random(600,800),delay:anime.random(600,800),rotate:[anime.random(-360,360),function(e){return e.getAttribute("data-rotation")}],scale:[.7,1],opacity:[0,1],easing:"easeInOutExpo"})}let t=null;fetch("https://raw.githubusercontent.com/ashish051321/profoundit/master/openPositions.json").then(e=>e.json()).then(e=>{t=e,console.log("Fetched open positions from github repo",t),$("#vacancies").empty(),t.forEach(e=>{$("#vacancies").append('<a class="button" style="margin: 10px !important;"  data-toggle="modal" data-target="#jobModal" data-jobid="'+e.jobTitle+'">'+e.jobTitle+"</a>")})}),window.scrollSmoothlyTo=function(e){(e=document.getElementById(e)).scrollIntoView({behavior:"smooth"})},$("#jobModal").on("show.bs.modal",function(e){var i=$(e.relatedTarget).data("jobid"),o=$(this),n=t.filter(e=>e.jobTitle==i)[0];o.find("#job-modal-title").text(n.jobTitle);var a=o.find("#jobDescription");if(a.empty(),a.append("<div class='font-weight-bolder letter-spacing-1'>Job Description</div>"),a.append("<p>"+n.jobDescription+"</p>"),n.jobResponsibilities){var s=o.find("#jobResponsibilities");s.empty(),s.append("<div class='font-weight-bolder letter-spacing-1'>Job Responsibilities</div>"),s.append("<ul id='jobResponsibilitiesList'> </ul>");var l=o.find("#jobResponsibilitiesList");n.jobResponsibilities.forEach(e=>{l.append("<li>"+e+"</li>")})}else o.find("#jobResponsibilities").empty();if(n.jobRequirements){var d=o.find("#jobRequirements");d.empty(),d.append("<div class='font-weight-bolder letter-spacing-1'>Candidate Qualifications</div>"),d.append("<ul id='jobRequirementsList'> </ul>");var r=o.find("#jobRequirementsList");n.jobRequirements.forEach(e=>{r.append("<li>"+e+"</li>")})}else o.find("#jobRequirements").empty()});var i="";function o(e){$(e).css("visibility","visible"),$(e).fadeIn(200).delay(3e3).fadeOut(400)}function n(){$("#spinner").css("visibility","hidden")}$("#modalApplyButton").on("click",function(){i=$("#job-modal-title").html(),$("#jobModal").modal("toggle"),setTimeout(function(){$("#jobApplyModal").modal("toggle"),$("#job-apply-modal-title").html(i)},900)}),$("#modalJobSubmitButton").on("click",function(e){const t={};["firstName","lastName","city","state","zip","fileAttachment","tAndC"].forEach(function(e){document.getElementById("jobApplyForm").elements[e].value,t[e]=document.getElementById("jobApplyForm").elements[e].value,"fileAttachment"==e&&(t[e]="File Attached in mail"),"tAndC"==e&&(t[e]=document.getElementById("jobApplyForm").elements[e].checked)}),console.log(t),function(e,t){$("#spinner").css("visibility","visible");var i=new FormData;i.append("mailRequest",JSON.stringify(e)),i.append("file",t),fetch("https://backend.profounditllc.com/sendMailWithAttachments",{method:"POST",body:i}).then(e=>{console.log(e),n(),o("#successToast")}).catch(e=>{n(),o("#failureToast")})}({to:"ashish.25jl@gmail.com",subject:t.firstName+" "+t.lastName+": Application for "+$("#job-apply-modal-title").html(),messageText:JSON.stringify({formObject:t})},document.getElementById("jobApplyForm").elements.fileAttachment.files[0]),$("#jobApplyModal").modal("toggle")})});