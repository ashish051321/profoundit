document.addEventListener("DOMContentLoaded",function(){const e=5,t=document.documentElement;if(t.classList.remove("no-js"),t.classList.add("js"),document.body.classList.contains("has-animations")){(window.sr=ScrollReveal()).reveal(".feature, .pricing-table-inner",{duration:600,distance:"20px",easing:"cubic-bezier(0.5, -0.01, 0, 1.005)",origin:"bottom",interval:100}),t.classList.add("anime-ready"),anime.timeline({targets:".hero-figure-box-05"}).add({duration:400,easing:"easeInOutExpo",scaleX:[.05,.05],scaleY:[0,1],perspective:"500px",delay:anime.random(0,400)}).add({duration:400,easing:"easeInOutExpo",scaleX:1}).add({duration:800,rotateY:"-15deg",rotateX:"8deg",rotateZ:"-1deg"}),anime.timeline({targets:".hero-figure-box-06, .hero-figure-box-07"}).add({duration:400,easing:"easeInOutExpo",scaleX:[.05,.05],scaleY:[0,1],perspective:"500px",delay:anime.random(0,400)}).add({duration:400,easing:"easeInOutExpo",scaleX:1}).add({duration:800,rotateZ:"20deg"}),anime({targets:".hero-figure-box-01, .hero-figure-box-02, .hero-figure-box-03, .hero-figure-box-04, .hero-figure-box-08, .hero-figure-box-09, .hero-figure-box-10",duration:anime.random(600,800),delay:anime.random(600,800),rotate:[anime.random(-360,360),function(e){return e.getAttribute("data-rotation")}],scale:[.7,1],opacity:[0,1],easing:"easeInOutExpo"})}let i=null;fetch("https://raw.githubusercontent.com/ashish051321/profoundit/master/openPositions.json").then(e=>e.json()).then(e=>{i=e,console.log("Fetched open positions from github repo",i),$("#vacancies").empty(),i.forEach(e=>{$("#vacancies").append('<a class="button" style="margin: 10px !important;"  data-toggle="modal" data-target="#jobModal" data-jobid="'+e.jobTitle+'">'+e.jobTitle+"</a>")})}),window.scrollSmoothlyTo=function(e){(e=document.getElementById(e)).scrollIntoView({behavior:"smooth"})},$("#jobModal").on("show.bs.modal",function(e){var t=$(e.relatedTarget).data("jobid"),o=$(this),n=i.filter(e=>e.jobTitle==t)[0];o.find("#job-modal-title").text(n.jobTitle),o.find("#jobId").text(n.jobId);var a=o.find("#jobDescription");if(a.empty(),a.append("<div class='font-weight-bolder letter-spacing-1'>Job Description</div>"),a.append("<p>"+n.jobDescription+"</p>"),n.jobResponsibilities){var l=o.find("#jobResponsibilities");l.empty(),l.append("<div class='font-weight-bolder letter-spacing-1'>Job Responsibilities</div>"),l.append("<ul id='jobResponsibilitiesList'> </ul>");var s=o.find("#jobResponsibilitiesList");n.jobResponsibilities.forEach(e=>{s.append("<li>"+e+"</li>")})}else o.find("#jobResponsibilities").empty();if(n.jobRequirements){var d=o.find("#jobRequirements");d.empty(),d.append("<div class='font-weight-bolder letter-spacing-1'>Candidate Qualifications</div>"),d.append("<ul id='jobRequirementsList'> </ul>");var r=o.find("#jobRequirementsList");n.jobRequirements.forEach(e=>{r.append("<li>"+e+"</li>")})}else o.find("#jobRequirements").empty()});var o="",n="";function a(e,t){t&&$(e).html(t),$(e).css("visibility","visible"),$(e).fadeIn(200).delay(3e3).fadeOut(400)}function l(){$("#spinner").css("visibility","hidden")}$("#modalApplyButton").on("click",function(){o=$("#job-modal-title").html(),n=$("#jobId").html(),$("#jobModal").modal("toggle"),setTimeout(function(){$("#jobApplyModal").modal("toggle"),$("#job-apply-modal-title").html(o),$("#job-apply-jobId").html(n)},900)}),$("#modalJobSubmitButton").on("click",function(t){if(!document.querySelector("#jobApplyForm").checkValidity())return void console.log("Form is invalid");if(!function(t){const i=t.size/1024/1024;return console.log("This file size is: "+i+"MB"),i<=e}(document.getElementById("jobApplyForm").elements.fileAttachment.files[0]))return $("#fileAttachment").val(""),void(document.querySelector("#chosen-file-name").textContent="File size should be <= "+e+" MB");console.log("Form is valid and we will proceed to submit the application!");const i={jobId:n.trim(),jobTitle:o.trim(),dateTime:(new Date).toGMTString()};["firstName","lastName","fileAttachment","tAndC"].forEach(function(e){document.getElementById("jobApplyForm").elements[e].value,i[e]=document.getElementById("jobApplyForm").elements[e].value,"fileAttachment"==e&&(i[e]="File Attached in mail"),"tAndC"==e&&(i[e]=document.getElementById("jobApplyForm").elements[e].checked)}),console.log(i),function(e,t){$("#spinner").css("visibility","visible");var i=new FormData;i.append("mailRequest",JSON.stringify(e)),i.append("file",t),fetch("https://backend.profounditllc.com/sendMailWithAttachments",{method:"POST",body:i}).then(e=>{console.log(e),l(),a("#successToast","Application submitted !")}).catch(e=>{window.navigator.onLine||a("#failureToast","No internet connection !"),l(),a("#failureToast")})}({to:"ashish.25jl@gmail.com",subject:i.firstName+" "+i.lastName+": Application for "+o+"( "+n+" )",messageText:JSON.stringify({formObject:i})},document.getElementById("jobApplyForm").elements.fileAttachment.files[0]),$("#jobApplyModal").modal("toggle")});document.querySelector("#fileAttachment").addEventListener("change",function(e){var t=e.srcElement.files[0].name;document.querySelector("#chosen-file-name").textContent=t})});