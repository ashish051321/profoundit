document.addEventListener("DOMContentLoaded",function(){const e=2,t=document.documentElement;if(t.classList.remove("no-js"),t.classList.add("js"),document.body.classList.contains("has-animations")){(window.sr=ScrollReveal()).reveal(".feature, .pricing-table-inner",{duration:600,distance:"20px",easing:"cubic-bezier(0.5, -0.01, 0, 1.005)",origin:"bottom",interval:100}),t.classList.add("anime-ready"),anime.timeline({targets:".hero-figure-box-05"}).add({duration:400,easing:"easeInOutExpo",scaleX:[.05,.05],scaleY:[0,1],perspective:"500px",delay:anime.random(0,400)}).add({duration:400,easing:"easeInOutExpo",scaleX:1}).add({duration:800,rotateY:"-15deg",rotateX:"8deg",rotateZ:"-1deg"}),anime.timeline({targets:".hero-figure-box-06, .hero-figure-box-07"}).add({duration:400,easing:"easeInOutExpo",scaleX:[.05,.05],scaleY:[0,1],perspective:"500px",delay:anime.random(0,400)}).add({duration:400,easing:"easeInOutExpo",scaleX:1}).add({duration:800,rotateZ:"20deg"}),anime({targets:".hero-figure-box-01, .hero-figure-box-02, .hero-figure-box-03, .hero-figure-box-04, .hero-figure-box-08, .hero-figure-box-09, .hero-figure-box-10",duration:anime.random(600,800),delay:anime.random(600,800),rotate:[anime.random(-360,360),function(e){return e.getAttribute("data-rotation")}],scale:[.7,1],opacity:[0,1],easing:"easeInOutExpo"})}let o=null;fetch("https://raw.githubusercontent.com/ashish051321/profoundit/master/openPositions.json").then(e=>{if(!e.ok)throw new Error("Could not fetch the vacancies from the backend server !");return e.json()}).then(e=>{console.log(e),o=e,console.log("Fetched open positions from github repo",o),$("#vacancies").empty(),o.forEach(e=>{$("#vacancies").append('<a class="button" style="margin: 10px !important;"  data-toggle="modal" data-target="#jobModal" data-jobid="'+e.jobTitle+'">'+e.jobTitle+"</a>")})}).catch(e=>{a("#failureToast","Could not fetch the vacancies from the backend. Please connect with IT Team")}),window.scrollSmoothlyTo=function(e){(e=document.getElementById(e)).scrollIntoView({behavior:"smooth"})},$("#jobModal").on("show.bs.modal",function(e){var t=$(e.relatedTarget).data("jobid"),i=$(this),n=o.filter(e=>e.jobTitle==t)[0];i.find("#job-modal-title").text(n.jobTitle),i.find("#jobId").text(n.jobId);var a=i.find("#jobDescription");if(a.empty(),a.append("<div class='font-weight-bolder letter-spacing-1'>Job Description</div>"),a.append("<p>"+n.jobDescription+"</p>"),n.jobResponsibilities){var l=i.find("#jobResponsibilities");l.empty(),l.append("<div class='font-weight-bolder letter-spacing-1'>Job Responsibilities</div>"),l.append("<ul id='jobResponsibilitiesList'> </ul>");var s=i.find("#jobResponsibilitiesList");n.jobResponsibilities.forEach(e=>{s.append("<li>"+e+"</li>")})}else i.find("#jobResponsibilities").empty();if(n.jobRequirements){var r=i.find("#jobRequirements");r.empty(),r.append("<div class='font-weight-bolder letter-spacing-1'>Candidate Qualifications</div>"),r.append("<ul id='jobRequirementsList'> </ul>");var c=i.find("#jobRequirementsList");n.jobRequirements.forEach(e=>{c.append("<li>"+e+"</li>")})}else i.find("#jobRequirements").empty()});var i="",n="";function a(e,t){t&&$(e).html(t),$(e).css("visibility","visible"),$(e).fadeIn(200).delay(3e3).fadeOut(400)}function l(){$("#spinner").css("visibility","visible")}function s(){$("#spinner").css("visibility","hidden")}$("#modalApplyButton").on("click",function(){i=$("#job-modal-title").html(),n=$("#jobId").html(),$("#jobModal").modal("toggle"),l(),fetch("https://backend.profounditllc.com/actuator/health",{mode:"no-cors",method:"GET"}).then(e=>{console.log("backend is working fine"),s(),setTimeout(function(){$("#jobApplyModal").modal("toggle"),$("#job-apply-modal-title").html(i),$("#job-apply-jobId").html(n)},900)}).catch(e=>{console.log("backend is not reachable or not working fine"),window.navigator.onLine||a("#failureToast","No internet connection !"),s(),a("#failureToast","Backend Server is down. Falling back to Native Mail Client."),setTimeout(function(){const e="Apply for "+n+": "+i;window.open("mailto:recruiter@profounditllc.com?subject="+e+"&body=<Please provide your basic details and attach CV>")},3e3)})}),$("#modalJobSubmitButton").on("click",function(t){if(!document.querySelector("#jobApplyForm").checkValidity())return void console.log("Form is invalid");if(!function(t){const o=t.size/1024/1024;return console.log("This file size is: "+o+"MB"),o<=e}(document.getElementById("jobApplyForm").elements.fileAttachment.files[0]))return $("#fileAttachment").val(""),void(document.querySelector("#chosen-file-name").textContent="File size should be <= "+e+" MB");console.log("Form is valid and we will proceed to submit the application!");const o={jobId:n.trim(),jobTitle:i.trim(),dateTime:(new Date).toGMTString()};["firstName","lastName","fileAttachment","tAndC"].forEach(function(e){document.getElementById("jobApplyForm").elements[e].value,o[e]=document.getElementById("jobApplyForm").elements[e].value,"fileAttachment"==e&&(o[e]="File Attached in mail"),"tAndC"==e&&(o[e]=document.getElementById("jobApplyForm").elements[e].checked)}),console.log(o),function(e,t){l();var o=new FormData;o.append("mailRequest",JSON.stringify(e)),o.append("file",t),fetch("https://backend.profounditllc.com/profounditllc-email/sendMailWithAttachments",{"Access-Control-Allow-Origin":"*",method:"POST",body:o}).then(e=>{if(console.log(e),!e.ok)throw new Error("The application could not be submitted successfully.");s(),a("#successToast","Your application is submitted successfully. The HR Team will get in touch with you !")}).catch(e=>{window.navigator.onLine||a("#failureToast","No internet connection !"),s(),a("#failureToast")})}({to:"careers@profounditllc.com,recruiter@profounditllc.com",subject:o.firstName+" "+o.lastName+": Application for "+i+"( "+n+" )",messageText:JSON.stringify({formObject:o})},document.getElementById("jobApplyForm").elements.fileAttachment.files[0]),$("#jobApplyModal").modal("toggle")});document.querySelector("#fileAttachment").addEventListener("change",function(e){var t=e.srcElement.files[0].name;document.querySelector("#chosen-file-name").textContent=t})});